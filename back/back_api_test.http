
# ユーザー作成

# 受け付けるjson
# const createSchema = z.object({
#     username: z.string(),
#     email: z.string().email(),
#     password: z.string(),
#     date_of_birth: z.string().date().optional(),// "YYYY-MM-DD"のstring
# });

# 失敗時

# emailとユーザー名がどちらも既に存在している
# 500
# {
#   "error": "This email and username is already existed"
# }
# emailが既に存在している
# {
#   "error": "This email is already existed"
# }
# ユーザー名が既に存在している
# {
#   "error": "This username is already existed"
# }

# その他
# {
#     "error": "Failed to create User"
# }
# 例

POST http://localhost:3000/api/user
Content-Type: application/json

{
    "username": "test",
    "email": "example@test.com",
    "password": "y",
    "date_of_birth": "2024-08-09"
}

# { message: 'User created successfully', userId: newUser.id }, 201

###
POST http://localhost:3000/api/user/login
Content-Type: application/json

{
    "email": "example@example.com",
    "password": "y"
}
###

POST http://localhost:3000/api/portfolio/page
Content-Type: application/json

{
    "user_id": 2,
    "contact_address": "test",
    "published": true,
    "max_item": 3,
    "max_depth": 2,
    "max_score": 3
}
###

DELETE http://localhost:3000/api/portfolio/page
Content-Type: application/json

{
    "user_id": 1
}

###
GET http://localhost:3000/api/portfolio/page?user_id=3

# {
#     "user_id": 1,
#     "contact_address": "test",
#     "published": true,
#     "max_item": 3,
#     "max_depth": 2,
#     "max_score": 3
# }
# これが返ってくる
###
GET http://localhost:3000/api/portfolio/page?user_name=exampleUser

###

POST http://localhost:3000/api/portfolio/chart
Content-Type: application/json

{
    "user_id":1,
    "charts":
    [
        {"name":"IT"},
        {"name":"プログラミング"},
        {"name":"ネットワーク"}
    ],
    "relations":[
        {"parent_id":0,"child_id":0,"depth":0},
        {"parent_id":0,"child_id":1,"depth":1},
        {"parent_id":0,"child_id":2,"depth":1},
        {"parent_id":1,"child_id":1,"depth":1},
        {"parent_id":2,"child_id":2,"depth":1}],
    "leaves":[
        {"name":"アルゴリズム","score":5,"chart_id":1},
        {"name":"基礎文法","score":3,"chart_id":1},
        {"name":"データ構造","score":4,"chart_id":1},
        {"name":"設計","score":3,"chart_id":2},
        {"name":"DNS","score":1,"chart_id":2},
        {"name":"DHP","score":2,"chart_id":2}
    ]
}
###
###

POST http://localhost:3000/api/portfolio/chart
Content-Type: application/json

{
    "user_id":1,
    "charts":
    [
        {"name":"IT"},
        {"name":"プログラミング"},
        {"name":"ネットワーク"}
    ],
    "relations":[
        {"parent_index":0,"child_index":0,"depth":0},
        {"parent_index":0,"child_index":1,"depth":1},
        {"parent_index":0,"child_index":2,"depth":1},
        {"parent_index":1,"child_index":1,"depth":1},
        {"parent_index":2,"child_index":2,"depth":1}],
    "leaves":[
        {"name":"アルゴリズム","score":5,"chart_index":1},
        {"name":"基礎文法","score":3,"chart_index":1},
        {"name":"データ構造","score":4,"chart_index":1},
        {"name":"設計","score":3,"chart_index":2},
        {"name":"DNS","score":1,"chart_index":2},
        {"name":"DHP","score":2,"chart_index":2}
    ]
}
###
PUT http://localhost:3000/api/portfolio/chart
Content-Type: application/json

{
    "user_id": 1,
    "charts": [

        {"id": 46, "name": "IT Updated", "createdAt": "dsadsa", "updateAt": "asdad"},
        {"id": 47, "name": "プログラミング Updated", "createdAt": "dsadsa", "updateAt": "asdad"},
        {"id": 48, "name": "ネットワーク Updated", "createdAt": "dsadsa", "updateAt": "asdad"}
    ],
    "relations": [
        {"id": 151, "parent_id":0,"child_id":1,"depth":1},
        {"id": 152, "parent_id":0,"child_id":0,"depth":0},
        {"id": 153, "parent_id":0,"child_id":2,"depth":1},
        {"id": 154, "parent_id":1,"child_id":1,"depth":1},
        {"id": 155, "parent_id":2,"child_id":2,"depth":1}
        ],
    "leaves": [
        {"id": 91, "name": "アルゴリズム Updated", "score": 4, "chart_id": 1},
        {"id": 92, "name": "基礎文法 Updated", "score": 2, "chart_id": 1},
        {"id": 93, "name": "データ構造 Updated", "score": 5, "chart_id": 1},
        {"id": 94, "name": "設計 Updated", "score": 4, "chart_id": 2},
        {"id": 95, "name": "DNS Updated", "score": 2, "chart_id": 2},
        {"id": 96, "name": "DHCP Updated", "score": 3, "chart_id": 2}
    ]
}

###
# {
#   "userId": 1,
#   "charts": [
#     {
#       "id": 1,
#       "name": "IT",
#       "page_id": 1,
#       "createdAt": "2024-09-23T12:19:03.892Z",
#       "updatedAt": "2024-09-23T12:19:03.892Z"
#     },
#     {
#       "id": 2,
#       "name": "プログラミング",
#       "page_id": 1,
#       "createdAt": "2024-09-23T12:19:03.892Z",
#       "updatedAt": "2024-09-23T12:19:03.892Z"
#     },
#     {
#       "id": 3,
#       "name": "ネットワーク",
#       "page_id": 1,
#       "createdAt": "2024-09-23T12:19:03.892Z",
#       "updatedAt": "2024-09-23T12:19:03.892Z"
#     },
#     {
#       "id": 4,
#       "name": "IT Updated",
#       "page_id": 1,
#       "createdAt": "2024-09-23T12:26:52.536Z",
#       "updatedAt": "2024-09-24T03:48:56.900Z"
#     },
#     {
#       "id": 5,
#       "name": "プログラミング Updated",
#       "page_id": 1,
#       "createdAt": "2024-09-23T12:26:52.536Z",
#       "updatedAt": "2024-09-24T03:48:56.900Z"
#     },
#     {
#       "id": 6,
#       "name": "ネットワーク Updated",
#       "page_id": 1,
#       "createdAt": "2024-09-23T12:26:52.536Z",
#       "updatedAt": "2024-09-24T03:48:56.900Z"
#     }
#   ],
#   "relations": [
#     {
#       "id": 1,
#       "page_id": 1,
#       "parent_id": 1,
#       "child_id": 1,
#       "depth": 0,
#       "createdAt": "2024-09-23T12:19:03.892Z",
#       "updatedAt": "2024-09-23T12:19:03.892Z"
#     },
#     {
#       "id": 2,
#       "page_id": 1,
#       "parent_id": 1,
#       "child_id": 2,
#       "depth": 1,
#       "createdAt": "2024-09-23T12:19:03.892Z",
#       "updatedAt": "2024-09-23T12:19:03.892Z"
#     },
#     {
#       "id": 3,
#       "page_id": 1,
#       "parent_id": 1,
#       "child_id": 3,
#       "depth": 1,
#       "createdAt": "2024-09-23T12:19:03.892Z",
#       "updatedAt": "2024-09-23T12:19:03.892Z"
#     },
#     {
#       "id": 4,
#       "page_id": 1,
#       "parent_id": 2,
#       "child_id": 2,
#       "depth": 1,
#       "createdAt": "2024-09-23T12:19:03.892Z",
#       "updatedAt": "2024-09-23T12:19:03.892Z"
#     },
#     {
#       "id": 5,
#       "page_id": 1,
#       "parent_id": 3,
#       "child_id": 3,
#       "depth": 1,
#       "createdAt": "2024-09-23T12:19:03.892Z",
#       "updatedAt": "2024-09-23T12:19:03.892Z"
#     },
#     {
#       "id": 11,
#       "page_id": 1,
#       "parent_id": 4,
#       "child_id": 4,
#       "depth": 0,
#       "createdAt": "2024-09-23T12:46:53.403Z",
#       "updatedAt": "2024-09-23T12:46:53.403Z"
#     },
#     {
#       "id": 12,
#       "page_id": 1,
#       "parent_id": 4,
#       "child_id": 5,
#       "depth": 1,
#       "createdAt": "2024-09-23T12:46:53.403Z",
#       "updatedAt": "2024-09-23T12:46:53.403Z"
#     },
#     {
#       "id": 13,
#       "page_id": 1,
#       "parent_id": 4,
#       "child_id": 6,
#       "depth": 1,
#       "createdAt": "2024-09-23T12:46:53.403Z",
#       "updatedAt": "2024-09-23T12:46:53.403Z"
#     },
#     {
#       "id": 14,
#       "page_id": 1,
#       "parent_id": 5,
#       "child_id": 5,
#       "depth": 1,
#       "createdAt": "2024-09-23T12:46:53.403Z",
#       "updatedAt": "2024-09-23T12:46:53.403Z"
#     },
#     {
#       "id": 15,
#       "page_id": 1,
#       "parent_id": 6,
#       "child_id": 6,
#       "depth": 1,
#       "createdAt": "2024-09-23T12:46:53.403Z",
#       "updatedAt": "2024-09-23T12:46:53.403Z"
#     },
#     {
#       "id": 16,
#       "page_id": 1,
#       "parent_id": 4,
#       "child_id": 4,
#       "depth": 0,
#       "createdAt": "2024-09-23T12:46:58.335Z",
#       "updatedAt": "2024-09-23T12:46:58.335Z"
#     },
#     {
#       "id": 17,
#       "page_id": 1,
#       "parent_id": 4,
#       "child_id": 5,
#       "depth": 1,
#       "createdAt": "2024-09-23T12:46:58.335Z",
#       "updatedAt": "2024-09-23T12:46:58.335Z"
#     },
#     {
#       "id": 18,
#       "page_id": 1,
#       "parent_id": 4,
#       "child_id": 6,
#       "depth": 1,
#       "createdAt": "2024-09-23T12:46:58.335Z",
#       "updatedAt": "2024-09-23T12:46:58.335Z"
#     },
#     {
#       "id": 19,
#       "page_id": 1,
#       "parent_id": 5,
#       "child_id": 5,
#       "depth": 1,
#       "createdAt": "2024-09-23T12:46:58.335Z",
#       "updatedAt": "2024-09-23T12:46:58.335Z"
#     },
#     {
#       "id": 20,
#       "page_id": 1,
#       "parent_id": 6,
#       "child_id": 6,
#       "depth": 1,
#       "createdAt": "2024-09-23T12:46:58.335Z",
#       "updatedAt": "2024-09-23T12:46:58.335Z"
#     },
#     {
#       "id": 21,
#       "page_id": 1,
#       "parent_id": 4,
#       "child_id": 4,
#       "depth": 0,
#       "createdAt": "2024-09-24T03:43:07.310Z",
#       "updatedAt": "2024-09-24T03:43:07.310Z"
#     },
#     {
#       "id": 22,
#       "page_id": 1,
#       "parent_id": 4,
#       "child_id": 5,
#       "depth": 1,
#       "createdAt": "2024-09-24T03:43:07.310Z",
#       "updatedAt": "2024-09-24T03:43:07.310Z"
#     },
#     {
#       "id": 23,
#       "page_id": 1,
#       "parent_id": 4,
#       "child_id": 6,
#       "depth": 1,
#       "createdAt": "2024-09-24T03:43:07.310Z",
#       "updatedAt": "2024-09-24T03:43:07.310Z"
#     },
#     {
#       "id": 24,
#       "page_id": 1,
#       "parent_id": 5,
#       "child_id": 5,
#       "depth": 1,
#       "createdAt": "2024-09-24T03:43:07.310Z",
#       "updatedAt": "2024-09-24T03:43:07.310Z"
#     },
#     {
#       "id": 25,
#       "page_id": 1,
#       "parent_id": 6,
#       "child_id": 6,
#       "depth": 1,
#       "createdAt": "2024-09-24T03:43:07.310Z",
#       "updatedAt": "2024-09-24T03:43:07.310Z"
#     },
#     {
#       "id": 31,
#       "page_id": 1,
#       "parent_id": 4,
#       "child_id": 4,
#       "depth": 0,
#       "createdAt": "2024-09-24T03:48:56.021Z",
#       "updatedAt": "2024-09-24T03:48:56.021Z"
#     },
#     {
#       "id": 32,
#       "page_id": 1,
#       "parent_id": 4,
#       "child_id": 5,
#       "depth": 1,
#       "createdAt": "2024-09-24T03:48:56.021Z",
#       "updatedAt": "2024-09-24T03:48:56.021Z"
#     },
#     {
#       "id": 33,
#       "page_id": 1,
#       "parent_id": 4,
#       "child_id": 6,
#       "depth": 1,
#       "createdAt": "2024-09-24T03:48:56.021Z",
#       "updatedAt": "2024-09-24T03:48:56.021Z"
#     },
#     {
#       "id": 34,
#       "page_id": 1,
#       "parent_id": 5,
#       "child_id": 5,
#       "depth": 1,
#       "createdAt": "2024-09-24T03:48:56.021Z",
#       "updatedAt": "2024-09-24T03:48:56.021Z"
#     },
#     {
#       "id": 35,
#       "page_id": 1,
#       "parent_id": 6,
#       "child_id": 6,
#       "depth": 1,
#       "createdAt": "2024-09-24T03:48:56.021Z",
#       "updatedAt": "2024-09-24T03:48:56.021Z"
#     },
#     {
#       "id": 36,
#       "page_id": 1,
#       "parent_id": 4,
#       "child_id": 4,
#       "depth": 0,
#       "createdAt": "2024-09-24T03:48:56.900Z",
#       "updatedAt": "2024-09-24T03:48:56.900Z"
#     },
#     {
#       "id": 37,
#       "page_id": 1,
#       "parent_id": 4,
#       "child_id": 5,
#       "depth": 1,
#       "createdAt": "2024-09-24T03:48:56.900Z",
#       "updatedAt": "2024-09-24T03:48:56.900Z"
#     },
#     {
#       "id": 38,
#       "page_id": 1,
#       "parent_id": 4,
#       "child_id": 6,
#       "depth": 1,
#       "createdAt": "2024-09-24T03:48:56.900Z",
#       "updatedAt": "2024-09-24T03:48:56.900Z"
#     },
#     {
#       "id": 39,
#       "page_id": 1,
#       "parent_id": 5,
#       "child_id": 5,
#       "depth": 1,
#       "createdAt": "2024-09-24T03:48:56.900Z",
#       "updatedAt": "2024-09-24T03:48:56.900Z"
#     },
#     {
#       "id": 40,
#       "page_id": 1,
#       "parent_id": 6,
#       "child_id": 6,
#       "depth": 1,
#       "createdAt": "2024-09-24T03:48:56.900Z",
#       "updatedAt": "2024-09-24T03:48:56.900Z"
#     }
#   ],
#   "leaves": [
#     {
#       "id": 1,
#       "name": "アルゴリズム",
#       "score": 5,
#       "chart_id": 2,
#       "page_id": 1,
#       "createdAt": "2024-09-23T12:19:03.892Z",
#       "updatedAt": "2024-09-23T12:19:03.892Z",
#       "itemNum": 0
#     },
#     {
#       "id": 2,
#       "name": "基礎文法",
#       "score": 3,
#       "chart_id": 2,
#       "page_id": 1,
#       "createdAt": "2024-09-23T12:19:03.892Z",
#       "updatedAt": "2024-09-23T12:19:03.892Z",
#       "itemNum": 1
#     },
#     {
#       "id": 3,
#       "name": "データ構造",
#       "score": 4,
#       "chart_id": 2,
#       "page_id": 1,
#       "createdAt": "2024-09-23T12:19:03.892Z",
#       "updatedAt": "2024-09-23T12:19:03.892Z",
#       "itemNum": 2
#     },
#     {
#       "id": 4,
#       "name": "設計",
#       "score": 3,
#       "chart_id": 3,
#       "page_id": 1,
#       "createdAt": "2024-09-23T12:19:03.892Z",
#       "updatedAt": "2024-09-23T12:19:03.892Z",
#       "itemNum": 0
#     },
#     {
#       "id": 5,
#       "name": "dfa",
#       "score": 2,
#       "chart_id": 3,
#       "page_id": 1,
#       "createdAt": "2024-09-23T12:19:03.892Z",
#       "updatedAt": "2024-09-23T12:19:03.892Z",
#       "itemNum": 1
#     },
#     {
#       "id": 6,
#       "name": "DHP",
#       "score": 2,
#       "chart_id": 3,
#       "page_id": 1,
#       "createdAt": "2024-09-23T12:19:03.892Z",
#       "updatedAt": "2024-09-23T12:19:03.892Z",
#       "itemNum": 2
#     }
#   ]
# }
###
###

GET http://localhost:3000/api/portfolio/chart/all?user_id=1

# {
#     "userId": 2,
#     "charts": [
#         {"id": 40, "name": "IT Updated"},
#         {"id": 41, "name": "プログラミング Updated"},
#         {"id": 42, "name": "ネットワーク Updated"}
#     ],
#     "relations": [
#         {"parentId":0,"childId":0,"depth":0},
#         {"parentId":0,"childId":1,"depth":1},
#         {"parentId":0,"childId":2,"depth":1},
#         {"parentId":1,"childId":1,"depth":1},
#         {"parentId":2,"childId":2,"depth":1}
#         ],
#     "leaves": [
#         {"id": 22, "name": "アルゴリズム Updated", "score": 4, "chartId": 1},
#         {"id": 23, "name": "基礎文法 Updated", "score": 2, "chartId": 1},
#         {"id": 24, "name": "データ構造 Updated", "score": 5, "chartId": 1},
#         {"id": 25, "name": "設計 Updated", "score": 4, "chartId": 2},
#         {"id": 26, "name": "DNS Updated", "score": 2, "chartId": 2},
#         {"id": 27, "name": "DHCP Updated", "score": 3, "chartId": 2}
#     ]
# }
###
GET http://localhost:3000/api/portfolio/chart/children?chart_id=2